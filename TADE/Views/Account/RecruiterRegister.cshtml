@using CaptchaMvc.HtmlHelpers
@using TADE;
@using CaptchaMvc; 
@model TADE.Models.CompanyDetail

@{
    ViewBag.Title = "RecruiterRegister";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Registration Form</h2>


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div id="tadeform" class="form-horizontal">
        <h4>
            Recruiter Registration Form:
        </h4>
        <hr />
        <!-- progressbar -->
        <ul id="progressbar">
            <li class="active">Account Setup</li>
            <li>Company Details</li>
            <li>Final step</li>
        </ul>

        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <label style="font-weight: normal;">(*  Mandatory)</label>

        <fieldset>
            <h2 class="fs-title">Create your account</h2>
            <h3 class="fs-subtitle"></h3>
            <div class="form-group">
                @Html.LabelFor(model => model.Email, "Email *", htmlAttributes: new { @class = "control-label col-md-2", title = "Test tool tip" })
                <div class="col-md-7">
                    @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "TADEform-control" } })
                    <img src="~/Images/QuestionIcon.png" data-toggle="tooltip" title="Email is used for login and view candidate details." />
                    <div class="text-danger">@Html.ValidationMessageFor(model => model.Email)</div>

                </div>

            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.AspNetUser.PasswordHash, "Password *", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-7">

                    @Html.PasswordFor(model => model.Password, new { @class = "TADEform-control" })
                    <img src="~/Images/QuestionIcon.png" data-toggle="tooltip" title="Please remember your password for future reference to login." />
                    <div class="text-danger">@Html.ValidationMessageFor(model => model.Password)</div>

                </div>
            </div>

          
            <input type="button" name="next" class="next action-button" value="Next" />
        </fieldset>


        <fieldset>
            <h2 class="fs-title">Recruiter Details</h2>
            <h3 class="fs-subtitle"></h3>
            <div class="form-group">
                @Html.LabelFor(model => model.CompanyName, "Company Name *", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-7">
                    @Html.EditorFor(model => model.CompanyName, new { htmlAttributes = new { @class = "TADEform-control" } })

                    <img src="~/Images/QuestionIcon.png" data-toggle="tooltip" title="Please enter company name." />
                    <div class="text-danger">@Html.ValidationMessageFor(model => model.CompanyName)</div>


                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.CompanyLogo, "Company Logo *", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-7">
                    @Html.EditorFor(model => model.CompanyLogo, new { htmlAttributes = new { @class = "TADEform-control" } })

                    <img src="~/Images/QuestionIcon.png" data-toggle="tooltip" title="Please select company logo." />
                    <div class="text-danger">@Html.ValidationMessageFor(model => model.CompanyLogo)</div>


                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.AddressLine1, "Address Line1 *", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-7">
                    @Html.EditorFor(model => model.AddressLine1, new { htmlAttributes = new { @class = "TADEform-control" } })

                    <img src="~/Images/QuestionIcon.png" data-toggle="tooltip" title="Please enter company address." />
                    <div class="text-danger">@Html.ValidationMessageFor(model => model.AddressLine1)</div>


                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.AddressLine2, "Address Line2 *", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-7">
                    @Html.EditorFor(model => model.AddressLine2, new { htmlAttributes = new { @class = "TADEform-control" } })
                    <img src="~/Images/QuestionIcon.png" data-toggle="tooltip" title="Please enter company address." />

                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.County, "County", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-7">
                    @Html.EditorFor(model => model.County, new { htmlAttributes = new { @class = "TADEform-control" } })
                    <img src="~/Images/QuestionIcon.png" data-toggle="tooltip" title="Please enter county of compan address." />

                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.PostCode, "Post Code (Format:AB12CD) *", htmlAttributes: new { @style = "padding-right: 0px;", @class = "control-label col-md-2" })
                <div class="col-md-7">
                    @Html.EditorFor(model => model.PostCode, new { htmlAttributes = new { @class = "TADEform-control" } })
                    <img src="~/Images/QuestionIcon.png" data-toggle="tooltip" title="Postcode should be same as drving license. The certificate can be refered by insurance agency to reduce your insurence." />
                    <div class="text-danger">@Html.ValidationMessageFor(model => model.PostCode)</div>


                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.NatureOfBusiness, "Nature of business *", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-7">
                    @Html.EditorFor(model => model.NatureOfBusiness, new { htmlAttributes = new { @class = "TADEform-control" } })

                    <img src="~/Images/QuestionIcon.png" data-toggle="tooltip" title="Please select nature of business." />
                    <div class="text-danger">@Html.ValidationMessageFor(model => model.NatureOfBusiness)</div>

                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.ContactPerson, "Contact Person *", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-7">
                    @Html.EditorFor(model => model.ContactPerson, new { htmlAttributes = new { @class = "TADEform-control" } })

                    <img src="~/Images/QuestionIcon.png" data-toggle="tooltip" title="Please select nature of business." />
                    <div class="text-danger">@Html.ValidationMessageFor(model => model.ContactPerson)</div>

                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.Phone, "Phone *", htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-7">
                    @Html.EditorFor(model => model.Phone, new { htmlAttributes = new { @class = "TADEform-control" } })

                    <img src="~/Images/QuestionIcon.png" data-toggle="tooltip" title="We will contact you either by phone or email." />
                    <div class="text-danger">@Html.ValidationMessageFor(model => model.Phone)</div>

                </div>
            </div>
            <input type="button" name="previous" class="previous action-button" value="Previous" />
            <input type="button" name="next" class="next action-button" value="Next" />
        </fieldset>



        <fieldset>
            <h2 class="fs-title">Final step</h2>
            <h3 class="fs-subtitle"></h3>
           


            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">

                    @*@Html.MathCaptcha()*@

                    @Html.Captcha(4)
                    <br />
                    <p class="Error">  @ViewBag.ErrMessage </p>
                </div>
            </div>
            <input type="button" name="previous" class="previous action-button" value="Previous" />
            <input type="submit" value="Register" class="submit action-button" />
            @*<div class="form-group">
                    <div class="col-md-offset-2 col-md-10">

                    </div>
                </div>*@

            @*<input type="submit" name="submit" class="submit action-button" value="Submit" />*@
        </fieldset>

    </div>
}
<!-- jQuery -->
<script src="~/JS/jquery-1.9.1.min.js" type="text/javascript"></script>

<!-- jQuery easing plugin -->
<script src="~/JS/jquery.easing.min.js" type="text/javascript"></script>
@*<div>
        @Html.ActionLink("Back to List", "Index")
    </div>*@
<script>
$(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();
    //jQuery time
    var current_fs, next_fs, previous_fs; //fieldsets
    var left, opacity, scale; //fieldset properties which we will animate
    var animating; //flag to prevent quick multi-click glitches

    $(".next").click(function () {
        if (animating) return false;
        animating = true;

        current_fs = $(this).parent();
        next_fs = $(this).parent().next();

        //activate next step on progressbar using the index of next_fs
        $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");

        //show the next fieldset
        next_fs.show();
        //hide the current fieldset with style
        current_fs.animate({ opacity: 0 }, {
            step: function (now, mx) {
                //as the opacity of current_fs reduces to 0 - stored in "now"
                //1. scale current_fs down to 80%
                scale = 1 - (1 - now) * 0.2;
                //2. bring next_fs from the right(50%)
                left = (now * 50) + "%";
                //3. increase opacity of next_fs to 1 as it moves in
                opacity = 1 - now;
                current_fs.css({ 'transform': 'scale(' + scale + ')' });
                next_fs.css({ 'left': left, 'opacity': opacity });
            },
            duration: 800,
            complete: function () {
                current_fs.hide();
                animating = false;
            },
            //this comes from the custom easing plugin
            easing: 'easeInOutBack'
        });
    });

    $(".previous").click(function () {
        if (animating) return false;
        animating = true;

        current_fs = $(this).parent();
        previous_fs = $(this).parent().prev();

        //de-activate current step on progressbar
        $("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");

        //show the previous fieldset
        previous_fs.show();
        //hide the current fieldset with style
        current_fs.animate({ opacity: 0 }, {
            step: function (now, mx) {
                //as the opacity of current_fs reduces to 0 - stored in "now"
                //1. scale previous_fs from 80% to 100%
                scale = 0.8 + (1 - now) * 0.2;
                //2. take current_fs to the right(50%) - from 0%
                left = ((1 - now) * 50) + "%";
                //3. increase opacity of previous_fs to 1 as it moves in
                opacity = 1 - now;
                current_fs.css({ 'left': left });
                previous_fs.css({ 'transform': 'scale(' + scale + ')', 'opacity': opacity });
            },
            duration: 800,
            complete: function () {
                current_fs.hide();
                animating = false;
            },
            //this comes from the custom easing plugin
            easing: 'easeInOutBack'
        });
    });

    //$(".submit").click(function () {
    //    return false;
    //})
});
</script>
